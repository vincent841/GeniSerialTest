# 시리얼 테스트 프로그램 (바이트 데이터)

## 개요
이 프로그램은 시리얼 통신을 통해 바이트 데이터를 수신하고, 미리 정의된 바이트 패턴에 대한 자동 응답을 제공하는 윈폼 애플리케이션입니다.

## 주요 기능

### 1. 시리얼 포트 설정
- **포트 이름**: 사용 가능한 시리얼 포트 목록에서 선택
- **통신 속도**: 1200 ~ 115200 bps 지원
- **데이터 비트**: 5, 6, 7, 8 비트
- **정지 비트**: None, One, Two, OnePointFive
- **패리티**: None, Odd, Even, Mark, Space

### 2. 바이트 데이터 자동 응답
- YAML 설정 파일을 통한 바이트 패턴-응답 매핑
- 16진수 형식으로 수신/송신 데이터 정의
- 수신된 바이트 데이터와 설정의 패턴을 비교하여 자동 응답
- 바이트 단위로 정확한 매칭

### 3. 통신 로그
- **수신 데이터**: 바이트 데이터를 16진수 형식으로 표시 (예: AA BB CC DD)
- **송신 데이터**: 바이트 데이터를 16진수 형식으로 표시
- 모든 통신 데이터를 타임스탬프와 함께 기록
- 각각 개별 삭제 기능 제공

### 4. 설정 관리
- YAML 파일을 통한 바이트 패턴-응답 설정
- 런타임에 설정 파일 다시 로드 가능

## 사용 방법

### 1. 시리얼 포트 연결
1. **포트 이름** 콤보박스에서 연결할 포트 선택
2. 필요에 따라 **통신 설정** (속도, 데이터비트 등) 조정
3. **연결** 버튼 클릭

### 2. 설정 파일 구성
`config.yaml` 파일을 다음 형식으로 작성 (16진수 바이트 형식):

```yaml
commands:
  - receive: "AA BB CC DD EE FF"    # 수신할 바이트 패턴 (16진수)
    send: "AA 01 03 18 55"          # 응답할 바이트 데이터 (16진수)
    description: "예제 명령 1"       # 설명
  
  - receive: "01 02 03 04"
    send: "FF FE FD FC"
    description: "예제 명령 2"
```

### 3. 테스트 실행
1. 시리얼 포트 연결 후
2. 외부 디바이스에서 설정된 바이트 패턴 전송
3. 프로그램이 자동으로 매칭되는 바이트 응답 전송
4. 통신 로그에서 16진수 형태의 송수신 내역 확인

## 설정 파일 예제

기본 제공되는 `config.yaml`에는 다음과 같은 바이트 명령들이 포함되어 있습니다:

```yaml
commands:
  # 바이트 데이터 명령 예제들
  - receive: "AA BB CC DD EE FF"
    send: "AA 01 03 18 55"
    description: "예제 명령 1"
  
  - receive: "01 02 03 04"
    send: "FF FE FD FC"  
    description: "예제 명령 2"
  
  # STX/ETX 프로토콜 예제
  - receive: "02 48 45 4C 4C 4F 03"  # STX + "HELLO" + ETX
    send: "02 4F 4B 03"              # STX + "OK" + ETX
    description: "HELLO 명령"
  
  # 바이너리 프로토콜 예제  
  - receive: "A5 5A 01 00"           # 헤더 + 명령코드
    send: "A5 5A 81 00 00"           # 헤더 + 응답코드 + 상태
    description: "상태 조회"
```

## 데이터 형식

### 16진수 표기법
- 바이트는 2자리 16진수로 표기 (예: AA, 01, FF)
- 바이트들은 공백으로 구분 (예: "AA BB CC DD")
- 대소문자 구분 없음 (AA = aa)

### 지원하는 프로토콜 예제
- **단순 바이너리**: 고정 길이 바이트 패턴
- **STX/ETX**: 시작/종료 마커가 있는 프로토콜
- **헤더 기반**: 고정 헤더 + 명령코드 형태
- **가변 길이**: 다양한 길이의 바이트 패턴

## 주의사항

1. **바이트 정확성**: 바이트 패턴은 정확히 일치해야 합니다.
2. **16진수 형식**: YAML 파일에서 올바른 16진수 형식을 사용해야 합니다.
3. **포트 사용**: 다른 프로그램에서 사용 중인 포트는 연결할 수 없습니다.
4. **응답 속도**: 바이트 수신 즉시 자동 응답하므로 실시간 테스트에 적합합니다.

## 시스템 요구사항

- .NET 8.0 Runtime
- Windows OS  
- 시리얼 포트 또는 USB-to-Serial 어댑터

## 라이브러리

- **System.IO.Ports**: 시리얼 통신
- **YamlDotNet**: YAML 파일 처리